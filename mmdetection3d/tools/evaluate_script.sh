python tools/test.py \
    configs/pointpillars/pointpillars_hv_secfpn_sbn-all_16xb2-2x_waymoD5-3d-3class.py \
    checkpoints/hv_pointpillars_secfpn_sbn_2x16_2x_waymoD5-3d-3class_20200831_204144-d1a706b1.pth \
    # --cfg-options 'test_evaluator.pklfile_prefix=results/waymo-car/kitti_results'


: '

What is --cfg-options?

Ran `pip install -r requirements.txt`

Ran my waymo_1_4_3 data loader 

Ran the `create_data_script.sh` to prep the dataset

Forgot to download testing data

chmod -R 775 data/waymo/kitti_format/gt_database => perms denied

`tools/create_data_script.sh` needs to be run in the mmdet3d repo


after prepping data with pkl_test populated, still giving "concatenate error"

>>>>>>>>>>>>>>>>>>
  File "/home/012392471@SJSUAD/anaconda3/envs/project/lib/python3.10/site-packages/mmengine/dataset/base_dataset.py", line 768, in _serialize_data
    data_bytes = np.concatenate(data_list)
  File "<__array_function__ internals>", line 180, in concatenate
ValueError: need at least one array to concatenate
>>>>>>>>>>>>>>>>>>


[building metrics]

ERROR: The 'build' command is only supported from within a workspace (below a directory having a WORKSPACE file).
See documentation at https://docs.bazel.build/versions/master/build-ref.html#workspace

[confusion??? ^^^]


Wrong config file

Needed to download validation data then run `create_data_script.sh`




{
  'sample_idx': 2000000, 
  'timestamp': 1558407840397346, 
  'ego2global': [[-0.9858326315879822, 0.1648290455341339, -0.03107154183089733, 3827.279296875], [-0.1657080352306366, -0.9857711791992188, 0.02821439877152443, 3436.1455078125], [-0.025978878140449524, 0.032963480800390244, 0.9991188645362854, -62.31999969482422], [0.0, 0.0, 0.0, 1.0]], 
  'context_name': '10084636266401282188_1120_000_1140_000', 
  'images': {'CAM_FRONT': {'img_path': '2000000.jpg', 'height': 1280, 'width': 1920, 'lidar2cam': [[0.004573788959532976, -0.9999889731407166, 0.0010468281107023358, -0.03175488859415054], [-0.009904230944812298, -0.0010920880595222116, -0.9999503493309021, 2.130457878112793], [0.9999405145645142, 0.0045631942339241505, -0.00990911666303873, -1.5180439949035645], [0.0, 0.0, 0.0, 1.0]], 'cam2img': [[2045.5062255859375, 0.0, 950.0348510742188, 0.0], [0.0, 2045.5062255859375, 640.096923828125, 0.0], [0.0, 0.0, 1.0, 0.0]], 'lidar2img': [[959.3340454101562, -2041.1484375, -7.272712707519531, -1507.1495361328125], [619.7996826171875, 0.6870137453079224, -2051.74755859375, 3386.16943359375], [0.9999405145645142, 0.0045631942339241505, -0.00990911666303873, -1.5180439949035645]]}, 'CAM_FRONT_LEFT': {'img_path': '2000000.jpg', 'height': 1280, 'width': 1920, 'lidar2cam': [[0.699614405632019, -0.7145077586174011, 0.004280305001884699, -0.9865760803222656], [-0.006229225546121597, -0.012089393101632595, -0.9999074935913086, 2.1248528957366943], [0.7144933938980103, 0.6995230317115784, -0.01290874369442463, -1.1030713319778442], [0.0, 0.0, 0.0, 1.0]], 'cam2img': [[2048.99658203125, 0.0, 970.9917602539062, 0.0], [0.0, 2048.99658203125, 634.4888916015625, 0.0], [0.0, 0.0, 1.0, 0.0]], 'lidar2img': [[2127.274658203125, -784.7928466796875, -3.763953685760498, -3092.564208984375], [440.5744934082031, 419.0685119628906, -2056.99755859375, 3653.9296875], [0.7144933938980103, 0.6995230317115784, -0.01290874369442463, -1.1030713319778442]]}, 'CAM_FRONT_RIGHT': {'img_path': '2000000.jpg', 'height': 1280, 'width': 1920, 'lidar2cam': [[-0.7025266289710999, -0.7116574048995972, 0.00018610371625982225, 0.9810279607772827], [-0.0018709232099354267, 0.0015854120720177889, -0.9999970197677612, 2.1189346313476562], [0.7116550207138062, -0.7025249004364014, -0.002445250516757369, -1.1219470500946045], [0.0, 0.0, 0.0, 1.0]], 'cam2img': [[2057.257080078125, 0.0, 956.8391723632812, 0.0], [0.0, 2057.257080078125, 637.904296875, 0.0], [0.0, 0.0, 1.0, 0.0]], 'lidar2img': [[-764.3385009765625, -2136.265625, -1.956848382949829, 944.7037963867188], [450.11883544921875, -444.8820495605469, -2058.810546875, 3643.498291015625], [0.7116550207138062, -0.7025249004364014, -0.002445250516757369, -1.1219470500946045]]}, 'CAM_SIDE_LEFT': {'img_path': '2000000.jpg', 'height': 886, 'width': 1920, 'lidar2cam': [[0.9999357461929321, -0.010895992629230022, -0.003122410736978054, -1.4219928979873657], [-0.0033539023716002703, -0.02129237912595272, -0.9997676610946655, 2.1213507652282715], [0.010826977901160717, 0.9997138977050781, -0.021327555179595947, -0.08124340325593948], [0.0, 0.0, 0.0, 1.0]], 'cam2img': [[2058.365966796875, 0.0, 980.54248046875, 0.0], [0.0, 2058.365966796875, 249.86512756347656, 0.0], [0.0, 0.0, 1.0, 0.0]], 'lidar2img': [[2068.85009765625, 957.8340454101562, -27.339637756347656, -3006.644287109375], [-4.1982741355896, 205.9661407470703, -2063.216796875, 4346.2158203125], [0.010826977901160717, 0.9997138977050781, -0.021327555179595947, -0.08124340325593948]]}, 'CAM_SIDE_RIGHT': {'img_path': '2000000.jpg', 'height': 886, 'width': 1920, 'lidar2cam': [[-0.9999757409095764, -0.006138170138001442, -0.003297224408015609, 1.4361590147018433], [0.0032673454843461514, 0.004871409386396408, -0.9999827742576599, 2.1121554374694824], [0.006154126487672329, -0.9999693036079407, -0.004851236008107662, -0.11042887717485428], [0.0, 0.0, 0.0, 1.0]], 'cam2img': [[2065.801025390625, 0.0, 959.9090576171875, 0.0], [0.0, 2065.801025390625, 256.2985534667969, 0.0], [0.0, 0.0, 1.0, 0.0]], 'lidar2img': [[-2059.843505859375, -972.559814453125, -11.468154907226562, 2860.817138671875], [8.326979637145996, -246.22731018066406, -2067.0087890625, 4334.98974609375], [0.006154126487672329, -0.9999693036079407, -0.004851236008107662, -0.11042887717485428]]}}, 'lidar_points': {'lidar_path': '/home/012392471@SJSUAD/master_project/mmdetection3d/data/waymo/kitti_format/testing/velodyne/2000000.bin', 'num_pts_feats': 6}, 
  'plane': None, 
  'num_pts_feats': 6, 
  'lidar_path': '/home/012392471@SJSUAD/master_project/mmdetection3d/data/waymo/kitti_format/testing/velodyne/2000000.bin'
}
'

